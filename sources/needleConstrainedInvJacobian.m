function pseudoinverse = needleConstrainedInvJacobian(constrained,desired,theta)

x_t = desired(1,1);
y_t = desired(2,1);
z_t = desired(3,1);

x_c = constrained(1,1);
y_c = constrained(2,1);
z_c = constrained(3,1);

theta1 = theta(1,1);
theta2 = theta(2,1);
theta3 = theta(3,1);
theta4 = theta(4,1);
theta5 = theta(5,1);
theta6 = theta(6,1);

%% DH link lengths
r1 = 135;
a2 = 135;
a3 = 38;
r4 = 120;
r6 = 70;
if z_t < z_c %the first one is valid for below constraint!!

    jacobian = [70*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 70*sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 135*cos(theta2 - pi/2)*sin(theta1) - 190*cos(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - 38*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) + 120*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 38*sin(theta1)*sin(theta3)*sin(theta2 - pi/2),                                                         70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 135*cos(theta1)*sin(theta2 - pi/2) - 190*cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2),                                                         70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 190*cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2),                                                           190*sin(theta6)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 70*sin(theta5)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 190*cos(theta5)*cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))),                                                           190*cos(theta6)*(sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 70*cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + 70*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)),                                                          190*sin(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 190*cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)));
        135*cos(theta1)*cos(theta2 - pi/2) - 70*sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 70*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 190*cos(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 120*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 120*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) - 38*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 38*cos(theta1)*cos(theta3)*cos(theta2 - pi/2),                                                         190*cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - 135*sin(theta1)*sin(theta2 - pi/2) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)),                                                         190*cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)),                                                           70*sin(theta5)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 190*cos(theta5)*cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))),                                                           70*cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 70*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 190*cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))),                                                          190*cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)));
        0,120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) - 135*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) - 190*cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                                                                                                 120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) - 190*cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                                                                                     - 190*cos(theta4)*sin(theta6)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - 70*sin(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - 190*cos(theta5)*cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                                                                                                   70*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) + 190*cos(theta6)*(cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) + 70*cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                                                                        - 190*sin(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) - 190*cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3));
        (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + cos(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)))) - 135*cos(theta2 - pi/2)*sin(theta1) - 70*sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 38*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) + 120*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 38*sin(theta1)*sin(theta3)*sin(theta2 - pi/2), (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) + sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 135*cos(theta1)*sin(theta2 - pi/2) + 70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2), (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) + sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) + 70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2), - 70*sin(theta5)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - (sin(theta6)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - cos(theta5)*cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))))*(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190), 70*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 70*cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - cos(theta6)*(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))),  (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))));
        135*cos(theta1)*cos(theta2 - pi/2) + (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + cos(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)))) - 70*sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 70*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 120*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) - 38*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 38*cos(theta1)*cos(theta3)*cos(theta2 - pi/2), 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) - (cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)))*(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) - 135*sin(theta1)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)), 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) - (cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)))*(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)),   70*sin(theta5)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + (sin(theta6)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - cos(theta5)*cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))))*(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190), 70*cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 70*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) + cos(theta6)*(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))), -(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - sin(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))));
        0,120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) - 135*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) + (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                                         120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) + (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                               (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta4)*sin(theta6)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + cos(theta5)*cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) - 70*sin(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                                         70*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - cos(theta6)*(cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)))*(((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190) + 70*cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                  (((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) + cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)))];
else
    jacobian = [70*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 70*sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 135*cos(theta2 - pi/2)*sin(theta1) - 190*cos(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - 38*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) + 120*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 38*sin(theta1)*sin(theta3)*sin(theta2 - pi/2),                                                         70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 135*cos(theta1)*sin(theta2 - pi/2) - 190*cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2),                                                         70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 190*cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2),                                                           190*sin(theta6)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 70*sin(theta5)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 190*cos(theta5)*cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))),                                                           190*cos(theta6)*(sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 70*cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + 70*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)),                                                          190*sin(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 190*cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)));
        135*cos(theta1)*cos(theta2 - pi/2) - 70*sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 70*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 190*cos(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 120*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 120*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) - 38*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 38*cos(theta1)*cos(theta3)*cos(theta2 - pi/2),                                                         190*cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - 135*sin(theta1)*sin(theta2 - pi/2) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)),                                                         190*cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)),                                                           70*sin(theta5)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 190*cos(theta5)*cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))),                                                           70*cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 70*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 190*cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))),                                                          190*cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - 190*sin(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)));
        0,120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) - 135*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) - 190*cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                                                                                                 120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) - 190*cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - 190*sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                                                                                     - 190*cos(theta4)*sin(theta6)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - 70*sin(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - 190*cos(theta5)*cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                                                                                                   70*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) + 190*cos(theta6)*(cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) + 70*cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                                                                        - 190*sin(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) - 190*cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3));
        (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + cos(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)))) - 135*cos(theta2 - pi/2)*sin(theta1) - 70*sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) - 38*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) + 120*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) + 38*sin(theta1)*sin(theta3)*sin(theta2 - pi/2), (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) + sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) - 135*cos(theta1)*sin(theta2 - pi/2) + 70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2), (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - cos(theta4)*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) + sin(theta4)*sin(theta6)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))) + 70*cos(theta5)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2)) - 38*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) + 120*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*cos(theta2 - pi/2), - 70*sin(theta5)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - (sin(theta6)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - cos(theta5)*cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))))*(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190), 70*sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 70*cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - cos(theta6)*(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))),  (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3))));
        135*cos(theta1)*cos(theta2 - pi/2) + (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta6)*(cos(theta4)*sin(theta1) + sin(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) + cos(theta6)*(cos(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - sin(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)))) - 70*sin(theta5)*(sin(theta1)*sin(theta4) - cos(theta4)*(cos(theta1)*sin(theta3)*sin(theta2 - pi/2) - cos(theta1)*cos(theta3)*cos(theta2 - pi/2))) - 70*cos(theta5)*(cos(theta1)*cos(theta3)*sin(theta2 - pi/2) + cos(theta1)*cos(theta2 - pi/2)*sin(theta3)) - 120*cos(theta1)*cos(theta3)*sin(theta2 - pi/2) - 120*cos(theta1)*cos(theta2 - pi/2)*sin(theta3) - 38*cos(theta1)*sin(theta3)*sin(theta2 - pi/2) + 38*cos(theta1)*cos(theta3)*cos(theta2 - pi/2), 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) - (cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)))*(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) - 135*sin(theta1)*sin(theta2 - pi/2) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)), 120*sin(theta1)*sin(theta3)*sin(theta2 - pi/2) - (cos(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))) - sin(theta4)*sin(theta6)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)))*(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190) - 120*cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - 38*cos(theta3)*sin(theta1)*sin(theta2 - pi/2) - 38*cos(theta2 - pi/2)*sin(theta1)*sin(theta3) - 70*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)),   70*sin(theta5)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + (sin(theta6)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - cos(theta5)*cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))))*(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190), 70*cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + 70*sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3)) + cos(theta6)*(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - cos(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))), -(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(cos(theta1)*cos(theta4) + sin(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) - sin(theta6)*(cos(theta5)*(cos(theta1)*sin(theta4) - cos(theta4)*(cos(theta3)*cos(theta2 - pi/2)*sin(theta1) - sin(theta1)*sin(theta3)*sin(theta2 - pi/2))) + sin(theta5)*(cos(theta3)*sin(theta1)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta1)*sin(theta3))));
        0,120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) - 135*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) + (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                                         120*cos(theta3)*sin(theta2 - pi/2) - 38*cos(theta3)*cos(theta2 - pi/2) + 120*cos(theta2 - pi/2)*sin(theta3) + 38*sin(theta3)*sin(theta2 - pi/2) + (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta6)*(sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) - cos(theta4)*cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + sin(theta4)*sin(theta6)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2))) + 70*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + 70*cos(theta4)*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)),                                                                                                                                                               (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(cos(theta4)*sin(theta6)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)) + cos(theta5)*cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) - 70*sin(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                                         70*sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - cos(theta6)*(cos(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) - cos(theta4)*sin(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)))*(-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190) + 70*cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)),                                                                                                                                  (-((x_c - x_t)^2 + (y_c - y_t)^2 + (z_c - z_t)^2)^(1/2) - 190)*(sin(theta6)*(sin(theta5)*(cos(theta3)*cos(theta2 - pi/2) - sin(theta3)*sin(theta2 - pi/2)) + cos(theta4)*cos(theta5)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3))) + cos(theta6)*sin(theta4)*(cos(theta3)*sin(theta2 - pi/2) + cos(theta2 - pi/2)*sin(theta3)))];

end

pseudoinverse = pinv(jacobian);
% X_tilda = double(pseudoinverse*Y);